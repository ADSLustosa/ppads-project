
{% extends 'base.html' %}
{% block header %}
<h1>Extrato</h1>
<nav>
    {% if current_user.is_authenticated %}
    <form action="{{ url_for('auth.logout') }}" method="post" style="display:inline">
        <a class="btn btn-secondary" href="{{ url_for('auth.home') }}">VOLTAR</a>
    </form>
    {% endif %}
</nav>
{% endblock %}
{% block title %}ðŸ“‹ Extrato - Tiger Bank{% endblock %}
{% block content %}
<div class="card">
  <h2>ðŸ“‹ Extrato</h2>
  <div class="extrato-list">
    {% if not txs %}
      <p class="info-text">Nenhuma transaÃ§Ã£o.</p>
    {% else %}
      {% for t in txs %}
      <div class="transaction-item {{ 'negative' if t.amount|float < 0 else '' }}">
        <div class="transaction-date">ðŸ“… {{ t.created_at.strftime('%d/%m/%Y %H:%M') }}</div>
        <div class="transaction-header">
          <div class="transaction-type">{{ t.kind }}</div>
          <div class="transaction-value {{ 'negative' if t.amount|float < 0 else 'positive' }}">
            {{ '-' if t.amount|float < 0 else '+' }} R$ {{ '%.2f'|format((t.amount|float)|abs) }}
          </div>
        </div>
        <div class="transaction-description">{{ t.description }}</div>
        <div class="transaction-description">Saldo apÃ³s: R$ {{ '%.2f'|format(t.balance_after|float) }}</div>
      </div>
      {% endfor %}
    {% endif %}
  </div>
</div>
{% endblock %}
